<?xml version="1.0"?>
<!--
    System configuration for Poyraz XML Import.
-->
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="urn:magento:module:Magento_Config:etc/system_file.xsd">
    <system>
        <tab id="poyraz" translate="label" sortOrder="900">
            <label>Poyraz</label>
        </tab>

        <section id="poyraz_xml_import"
                 translate="label"
                 sortOrder="10"
                 showInDefault="1"
                 showInWebsite="1"
                 showInStore="1">
            <label>XML Import</label>
            <tab>poyraz</tab>
            <resource>Poyraz_XmlImport::config</resource>

            <!-- Genel ayarlar -->
            <group id="general"
                   translate="label comment"
                   sortOrder="10"
                   showInDefault="1"
                   showInWebsite="1"
                   showInStore="1">
                <label>General Settings</label>

                <field id="enabled"
                       translate="label"
                       type="select"
                       sortOrder="10"
                       showInDefault="1"
                       showInWebsite="1"
                       showInStore="1"
                       canRestore="1">
                    <label>Enable Module</label>
                    <!-- KENDİ Yes/No source model'imiz -->
                    <source_model>Poyraz\XmlImport\Model\Config\Source\YesNo</source_model>
                </field>

                <field id="default_attribute_set"
                       translate="label comment"
                       type="text"
                       sortOrder="20"
                       showInDefault="1"
                       showInWebsite="1"
                       showInStore="1">
                    <label>Default Attribute Set ID</label>
                    <comment>Numeric ID of attribute set to use when creating products.</comment>
                </field>

                <field id="default_website"
                       translate="label comment"
                       type="text"
                       sortOrder="30"
                       showInDefault="1"
                       showInWebsite="1"
                       showInStore="1">
                    <label>Default Website Code</label>
                    <comment>Website code for assigning products when source does not specify one.</comment>
                </field>

                <field id="default_stock_status"
                       translate="label comment"
                       type="select"
                       sortOrder="40"
                       showInDefault="1"
                       showInWebsite="1"
                       showInStore="1">
                    <label>Default Stock Status</label>
                    <!-- Yine kendi Yes/No source model'imiz -->
                    <source_model>Poyraz\XmlImport\Model\Config\Source\YesNo</source_model>
                    <comment>Used when incoming feed lacks stock information.</comment>
                </field>

                <field id="global_currency"
                       translate="label comment"
                       type="text"
                       sortOrder="50"
                       showInDefault="1"
                       showInWebsite="1"
                       showInStore="1">
                    <label>Target Currency</label>
                    <comment>Default currency code (e.g., USD) for conversions.</comment>
                </field>

                <field id="global_margin"
                       translate="label comment"
                       type="text"
                       sortOrder="60"
                       showInDefault="1"
                       showInWebsite="1"
                       showInStore="1">
                    <label>Global Margin Percentage</label>
                    <comment>Example: 20 applies a 1.20 multiplier.</comment>
                </field>

                <field id="try_to_usd"
                       translate="label"
                       type="text"
                       sortOrder="70"
                       showInDefault="1"
                       showInWebsite="1"
                       showInStore="1">
                    <label>TRY to USD rate</label>
                </field>

                <field id="eur_to_usd"
                       translate="label"
                       type="text"
                       sortOrder="80"
                       showInDefault="1"
                       showInWebsite="1"
                       showInStore="1">
                    <label>EUR to USD rate</label>
                </field>
            </group>

            <!-- Kaynak JSON -->
            <group id="sources"
                   translate="label comment"
                   sortOrder="20"
                   showInDefault="1"
                   showInWebsite="1"
                   showInStore="1">
                <label>XML Sources</label>
                <field id="definitions"
                       translate="label comment"
                       type="textarea"
                       sortOrder="10"
                       showInDefault="1"
                       showInWebsite="1"
                       showInStore="1">
                    <label>Sources JSON</label>
                    <comment>Define each source as JSON array with keys: code,name,url,encoding,active,frequency,email,currency,rate,margin.</comment>
                </field>
            </group>

            <!-- Mapping JSON -->
            <group id="mapping"
                   translate="label comment"
                   sortOrder="30"
                   showInDefault="1"
                   showInWebsite="1"
                   showInStore="1">
                <label>Mapping</label>
                <field id="definitions"
                       translate="label comment"
                       type="textarea"
                       sortOrder="10"
                       showInDefault="1"
                       showInWebsite="1"
                       showInStore="1">
                    <label>Mapping JSON</label>
                    <comment>JSON keyed by source code. Each source contains field-to-xpath map and transformers.</comment>
                </field>
            </group>

            <!-- Advanced -->
            <group id="advanced"
                   translate="label comment"
                   sortOrder="40"
                   showInDefault="1"
                   showInWebsite="1"
                   showInStore="1">
                <label>Advanced</label>

                <field id="log_level"
                       translate="label"
                       type="select"
                       sortOrder="10"
                       showInDefault="1"
                       showInWebsite="1"
                       showInStore="1">
                    <label>Log Level</label>
                    <!-- Burada kendi LogLevel source model'imiz kullanılıyor -->
                    <source_model>Poyraz\XmlImport\Model\Config\Source\LogLevel</source_model>
                </field>

                <field id="image_path"
                       translate="label comment"
                       type="text"
                       sortOrder="20"
                       showInDefault="1"
                       showInWebsite="1"
                       showInStore="1">
                    <label>Import Image Path</label>
                    <comment>Relative path under pub/media for downloaded images.</comment>
                </field>
            </group>
        </section>
    </system>
</config>